<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actividades</title>
  <link rel="stylesheet" href="css/principal.css">
    <script src="js/script.js" defer></script>
    <script src="js/main.js" defer></script>
  <style>
    body {
      background-color: var(#ffffff);
      color: var(--color-light, #000000);
      font-size: var(--size-font, 16px);
      font-family: Arial, sans-serif;
    }
    .cloneable {
      padding: var(--container-padding, 0.5em);
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      display: flex;
      position: relative;
      font-size: 1.1vw;
    }

    .tab-container {
      grid-column-gap: 1.5em; /* Reducido de 3em a 1.5em */
      grid-row-gap: 0.5em; /* Reducido de 1em a 0.5em */
      flex-flow: column;
      justify-content: flex-start; /* Cambiado de space-between a flex-start */
      align-items: flex-start;
      min-height: 100%;
      padding: 0 1.5em;
      display: flex;
    }

    .tab-layout-container {
      width: 100%;
      max-width: 36em;
      height: 100%;
      margin-left: auto;
      margin-right: 0;
      padding: 0.5em 0 1em;
    }

    .tab-container-bottom,
    .tab-container-top {
      grid-column-gap: 1em; /* Reducido de 2em a 1em */
      grid-row-gap: 0.5em; /* Reducido de 1em a 0.5em */
      flex-flow: column;
      justify-content: flex-start;
      align-items: flex-start;
      display: flex;
    }

    .tab-layout-col {
      width: 50%;
    }

    .tab-content-wrap {
      width: 100%;
      min-width: 24em;
      position: relative;
      margin-top: 1em; /* Añadido para dar espacio después de los botones */
    }

    /* El resto del CSS se mantiene igual */
    .content-button__bg {
      z-index: -1;
      background-color: black;
      border-radius: .25em;
      position: absolute;
      inset: 0;
    }

    .content-p {
      margin: 0;
      font-size: 1.25em;
      line-height: 1.4;
    }

    .tab-button__bg {
      z-index: 0;
      background-color: #efeeec0f;
      border: 1px solid #efeeec14;
      border-radius: .25em;
      width: 100%;
      height: 100%;
      position: absolute;
      inset: 0;
    }

    .tab-content-item {
      z-index: 1;
      visibility: hidden;
      flex-flow: column;
      display: flex;
      position: absolute;
      inset: 0;
    }

    .tab-content-item.active {
      visibility: visible;
    }

    .tab-layout {
      z-index: 1;
      flex-flow: wrap;
      width: 100%;
      min-height: 35em;
      display: flex;
      position: relative;
    }

    .filter-bar {
      background-color: #efeeec0f;
      border: 1px solid #efeeec14;
      border-radius: .5em;
      padding: .5em;
      display: flex;
      margin-bottom: 0.5em; /* Añadido para reducir el espacio */
    }

    .filter-button {
      background-color: transparent;
      border: 1px solid transparent;
      padding: 1em 1.5em; /* Reducido de 1.125em a 1em */
      transition: border-color .2s;
      position: relative;
    }

    .filter-button.active {
      border-color: #0000004d;
      border-radius: .25em;
    }

    .filter-button__p {
      z-index: 1;
      font-size: 1.125em;
      position: relative;
      color: var(--color-light, #000000);
    }

    .tab-visual-wrap {
      border-radius: .5em;
      width: 100%;
      height: 42em;
      max-height: 80vh;
      position: relative;
      overflow: hidden;
    }

    .tab-visual-item {
      visibility: hidden;
      justify-content: flex-start;
      align-items: center;
      width: 100%;
      height: 100%;
      display: flex;
      position: absolute;
    }

    .tab-visual-item.active {
      visibility: visible;
    }

    .tab-image {
      object-fit: cover;
      border-radius: .5em;
      width: 100%;
      height: 100%;
    }

    .tab-content__heading {
      margin: 0 0 0.5em 0; /* Añadido margen inferior */
      font-size: 1.75em;
      font-weight: 500;
      line-height: 1;
    }

    .tab-layout-heading {
      margin: 0 0 1em 0; /* Añadido margen inferior */
      font-size: 4em;
      font-weight: 500;
      line-height: 1;
    }

    .tab-content__button {
      color: #131313;
      justify-content: center;
      align-items: center;
      height: 4em;
      padding: 0 1.5em;
      text-decoration: none;
      display: flex;
      position: relative;
    }
  </style>
<header class="header">
  <nav class="navbar">
      <div class="nav-content">
          <a href="#" class="logo">
              <i class="fas fa-crown"></i> Bahía Percebe
          </a>
          <div class="nav-links">
              <a href="#" onclick="toggleMenu()">Menú</a>
              <a href="reseñas.html">Reseñas</a>
              <a href="#">Vales de regalo</a>
              <a href="reservas.html">Libro</a>
          </div>
      </div>
  </nav>
</header>

  <nav class="menu-dropdown" id="menuDropdown">
    <div class="menu-header">
      <span class="language">Inglés</span>
      <span class="language">Español</span>
      <span class="language">Francés</span>
      <span class="close-menu" onclick="toggleMenu()">✕</span>
    </div>
    <ul class="menu-list">
      <li><a href="/login.html">Login</a></li>
      <li><a href="/Index.html">Inicio</a></li>
      <li>Hotel</li>
      <li><a href="/log.html">Habitaciones y suites</a></li>
      <li><a href="/restaurante.html">Restaurante y bar</a></li>
      <li><a href="/actividades.html">Actividades</a></li>
      <li><a href="/SpaBienestar.html">Spa & Bienestar</a></li>
      <li><a href="/exterior.html">Exterior</a></li>
      <li>Ofertas especiales</li>
      <li><a href="/reseñas.html">Reseñas</a></li>
      <li>Prepara tu viaje</li>
      <li><a href="/contacto2.html">Contacto</a></li>
    </ul>
  </nav>
</head>
<body>
  <!-- El resto del HTML se mantiene igual -->
  <section class="cloneable">
    <div data-tabs="wrapper" class="tab-layout">
      <div class="tab-layout-col">
        <div class="tab-layout-container">
          <div class="tab-container">
            <div class="tab-container-top">
              <h1 class="tab-layout-heading">Explora las actividades de Bahía Percebe.</h1>
              <div data-flip-button="wrap" data-tabs="nav" class="filter-bar">
                <button data-tabs="button" data-flip-button="button" class="filter-button active">
                  <div class="filter-button__p">Yoga</div>
                  <div data-flip-button="bg" class="tab-button__bg"></div>
                </button>
                <button data-tabs="button" data-flip-button="button" class="filter-button">
                  <div class="filter-button__p">Acuaticas</div>
                </button>
                <button data-tabs="button" data-flip-button="button" class="filter-button">
                  <div class="filter-button__p">Deportivas</div>
                </button>
              </div>
            </div>
            <div class="tab-container-bottom">
              <div data-tabs="content-wrap" class="tab-content-wrap">
                <div data-tabs="content-item" class="tab-content-item active">
                  <h2 data-tabs-fade="" class="tab-content__heading">Clases de Yoga</h2>
                  <p data-tabs-fade="" class="content-p opacity--80">El cuerpo depende del movimiento para estar sano. Permita que nuestros instructores capacitados le muestren una manera fácil de relajarse y dejar atrás todas sus preocupaciones y preocupaciones mientras domina las técnicas en nuestra cubierta de yoga flotante.</p>
                </div>
                <div data-tabs="content-item" class="tab-content-item">
                  <h2 data-tabs-fade="" class="tab-content__heading">Kayakismo</h2>
                  <p data-tabs-fade="" class="content-p opacity--80">Rema por las aguas del océano con nuestros kayaks, de uso gratuito.</p>
                </div>
                <div data-tabs="content-item" class="tab-content-item">
                  <h2 data-tabs-fade="" class="tab-content__heading">Clases de tenis</h2>
                  <p data-tabs-fade="" class="content-p opacity--80">Mejore sus habilidades de tenis con el tenista profesional Khun Toon, entrenador certificado por Tipsarevic Luxury Tennis (TLT), en una de nuestras dos canchas. Emparejaos con el entrenador o jugad entre vosotros. Se proporciona todo el equipo.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-layout-col">
        <div data-tabs="visual-wrap" class="tab-visual-wrap">
          <div data-tabs="visual-item" class="tab-visual-item active">
            <img src="https://www.sripanwa.com/images/page/best-luxury-hotel-in-phuket-sri-panwa-vacation-yoga-classes.jpg" loading="lazy" class="tab-image">
          </div>
          <div data-tabs="visual-item" class="tab-visual-item">
            <img src="https://www.sripanwa.com/images/page/best-luxury-hotel-in-phuket-sri-panwa-vacation-kayaking.jpg" loading="lazy" class="tab-image">
          </div>
          <div data-tabs="visual-item" class="tab-visual-item">
            <img src="https://www.sripanwa.com/images/gallery/gallery-sri-panwa-luxury-hotel-vacation-activities-in-phuket-6.jpg" loading="lazy" class="tab-image">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Los scripts se mantienen igual -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Flip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/CustomEase.min.js"></script>
  <script>
    // El JavaScript se mantiene igual
    gsap.registerPlugin(CustomEase, Flip)

    CustomEase.create("osmo-ease", "0.625, 0.05, 0, 1")

    gsap.defaults({
      ease: "osmo-ease",
      duration: 0.8,
    });

    function initFlipButtons() {
      let wrappers = document.querySelectorAll('[data-flip-button="wrap"]');
      
      wrappers.forEach((wrapper) => {
        let buttons = wrapper.querySelectorAll('[data-flip-button="button"]');
        let bg = wrapper.querySelector('[data-flip-button="bg"]');
        
        buttons.forEach(function (button) {
          button.addEventListener("mouseenter", function () {
            const state = Flip.getState(bg);
            this.appendChild(bg);
            Flip.from(state, {
              duration: 0.4,
            });
          });

          button.addEventListener("focus", function () {
            const state = Flip.getState(bg);
            this.appendChild(bg);
            Flip.from(state, {
              duration: 0.4,
            });
          });

          button.addEventListener("mouseleave", function () {
            const state = Flip.getState(bg);
            const activeLink = wrapper.querySelector(".active");
            activeLink.appendChild(bg);
            Flip.from(state, {
              duration: 0.4,
            });
          });

          button.addEventListener("blur", function () {
            const state = Flip.getState(bg);
            const activeLink = wrapper.querySelector(".active");
            activeLink.appendChild(bg);
            Flip.from(state, {
              duration: 0.4,
            });
          });
        });
      });
    }

    function initTabSystem(){
      let wrappers = document.querySelectorAll('[data-tabs="wrapper"]')
      
      wrappers.forEach((wrapper) => {
        let nav = wrapper.querySelector('[data-tabs="nav"]')
        let buttons = nav.querySelectorAll('[data-tabs="button"]')
        let contentWrap = wrapper.querySelector('[data-tabs="content-wrap"]')
        let contentItems = contentWrap.querySelectorAll('[data-tabs="content-item"]')
        let visualWrap = wrapper.querySelector('[data-tabs="visual-wrap"]')
        let visualItems = visualWrap.querySelectorAll('[data-tabs="visual-item"]')

        let activeButton = buttons[0];
        let activeContent = contentItems[0];
        let activeVisual = visualItems[0];
        let isAnimating = false;

        function switchTab(index, initial = false) {
          if (!initial && (isAnimating || buttons[index] === activeButton)) return;
          isAnimating = true;

          const outgoingContent = activeContent;
          const incomingContent = contentItems[index];
          const outgoingVisual = activeVisual;
          const incomingVisual = visualItems[index];

          let outgoingLines = outgoingContent.querySelectorAll("[data-tabs-fade]") || [];
          let incomingLines = incomingContent.querySelectorAll("[data-tabs-fade]");

          const timeline = gsap.timeline({
            defaults:{
              ease:"power3.inOut"
            },
            onComplete: () => {
              if(!initial){
                outgoingContent && outgoingContent.classList.remove("active");
                outgoingVisual && outgoingVisual.classList.remove("active");            
              }
              activeContent = incomingContent;
              activeVisual = incomingVisual;
              isAnimating = false;
            },
          });

          incomingContent.classList.add("active");
          incomingVisual.classList.add("active");

          timeline
            .to(outgoingLines, { y: "-2em", autoAlpha:0 }, 0)
            .to(outgoingVisual, { autoAlpha: 0, xPercent: 3 }, 0)
            .fromTo(incomingLines, { y: "2em", autoAlpha:0 }, { y: "0em", autoAlpha:1, stagger: 0.075 }, 0.4)
            .fromTo(incomingVisual, { autoAlpha: 0, xPercent: 3 }, { autoAlpha: 1, xPercent: 0 }, "<");

          activeButton && activeButton.classList.remove("active");
          buttons[index].classList.add("active");
          activeButton = buttons[index];
        }

        switchTab(0, true);
     
        buttons.forEach((button, i) => {
          button.addEventListener("click", () => switchTab(i)); 
        });

        contentItems[0].classList.add("active");
    visualItems[0].classList.add("active");
    buttons[0].classList.add("active");    
    
  })
  
}

document.addEventListener("DOMContentLoaded", () =>{
  initTabSystem()
  initFlipButtons()
})
 </script>
</body>
</html>
